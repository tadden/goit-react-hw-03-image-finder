{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/API/ImageApi.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchForm","state","query","handleChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","onSubmit","props","trim","toLocaleLowerCase","reset","alert","className","s","Searchbar","this","type","SearchFormButton","style","width","height","SearchFormInput","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","pictures","onClick","map","id","webformatURL","item","src","alt","fetchImages","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","status","handleImageClick","e","currentPicture","find","picture","Number","toggleModal","setModalImage","largeImageURL","prevProps","prevState","prevName","pictureName","nextName","prevPage","nextPage","hits","setStatus","catch","error","toast","message","color","timeout","gallery","Button","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","App","showModal","initialShowModal","initialPictureName","initialLargeImageURL","initialPage","initialStatus","onLoadMore","handleFormSubmit","defaultProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"wGACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,gC,mBCA5BD,EAAOC,QAAU,CAAC,KAAO,iC,mBCAzBD,EAAOC,QAAU,CAAC,OAAS,yB,gNCGrBC,E,4MACFC,MAAQ,CACJC,MAAO,I,EAGXC,aAAe,SAAAC,GACf,EAAKC,SAAS,CAAEH,MAAOE,EAAME,cAAcC,MAAMC,iB,EAGjDC,aAAe,SAAAL,GACXA,EAAMM,iBACN,IAAQR,EAAU,EAAKD,MAAfC,MACAS,EAAa,EAAKC,MAAlBD,SAEHT,EAAMW,QAKXF,EAAST,EAAMY,qBACf,EAAKC,SALDC,MAAM,0B,EASdD,MAAQ,WACR,EAAKV,SAAS,CAAEH,MAAO,M,4CAI1B,WACI,OACI,wBAAQe,UAAWC,IAAEC,UAArB,SACI,uBAAMF,UAAWC,IAAElB,WAAYW,SAAUS,KAAKX,aAA9C,UACI,wBACIY,KAAK,SACLJ,UAAWC,IAAEI,iBACb,aAAW,gBAHf,SAKI,cAAC,IAAD,CAAUC,MAAO,CAAEC,MAAO,GAAIC,OAAQ,QAG1C,uBACIR,UAAWC,IAAEQ,gBACbL,KAAK,OACLM,KAAK,cACLpB,MAAOa,KAAKnB,MAAMC,MAClB0B,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,SAAUX,KAAKjB,wB,GAjDX6B,aA2DVhC,I,0CC3DA,SAASiC,EAAT,GAGX,IAFFC,EAEC,EAFDA,SACAC,EACC,EADDA,QAEA,OACE,mCACGD,EAASE,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAP,OACZ,oBAAIrB,UAAWC,IAAEqB,KAAjB,SACE,qBACEF,GAAIA,EACJG,IAAKF,EACLG,IAAI,GACJN,QAASA,KALeE,Q,kBCPrB,SAASK,EAAYf,EAAMgB,GACxC,OAAOC,MAAM,8BAAD,OACoBjB,EADpB,iBACiCgB,EADjC,gBAJF,qCAIE,yDAEVE,MAAK,SAAAC,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OACb,IAAIC,MAAJ,8BAAiCxB,Q,ICHlByB,E,4MACnBnD,MAAQ,CACNiC,SAAU,KACVmB,OAAQ,Q,EAqDVC,iBAAmB,SAAAC,GACjB,IACMC,EADe,EAAKvD,MAAlBiC,SACwBuB,MAC9B,SAAAC,GAAO,OAAIA,EAAQrB,KAAOsB,OAAOJ,EAAEjD,cAAc+B,OAE/CmB,IACF,EAAK5C,MAAMgD,cACX,EAAKhD,MAAMiD,cACTL,EAAeM,iB,wDAlDrB,SAAmBC,EAAWC,GAAY,IAAD,OACjCC,EAAWF,EAAUG,YACrBC,EAAW/C,KAAKR,MAAMsD,YACtBE,EAAWL,EAAUpB,KACrB0B,EAAWjD,KAAKR,MAAM+B,KAExBsB,IAAaE,IACf/C,KAAKf,SAAS,CAAEgD,OAAQ,YACxBX,EAAYyB,EAAU,GACnBtB,MAAK,SAAAX,GACJ,EAAK7B,SAAS,CACZ6B,SAAUA,EAASoC,KACnBjB,OAAQ,aAEV,EAAKzC,MAAM2D,UAAU,EAAKtE,MAAMoD,WAEjCmB,OAAM,SAAAC,GACL,EAAKpE,SAAS,CAAEoE,QAAOpB,OAAQ,aAC/B,EAAKzC,MAAM2D,UAAU,EAAKtE,MAAMoD,QAChCqB,IAAMD,MAAMA,EAAME,aAIpBP,IAAaC,GACf3B,EAAYyB,EAAU/C,KAAKR,MAAM+B,MAC9BE,MAAK,SAAAX,GACJ,EAAK7B,SAAS,CACZ6B,SAAS,GAAD,mBACH8B,EAAU9B,UADP,YAEHA,EAASoC,OAEdjB,OAAQ,aAEV,EAAKzC,MAAM2D,UAAU,EAAKtE,MAAMoD,WAEjCmB,OAAM,SAAAC,GACL,EAAKpE,SAAS,CAAEoE,QAAOpB,OAAQ,aAC/B,EAAKzC,MAAM2D,UAAU,EAAKtE,MAAMoD,a,oBAkBxC,WACE,MAA6BjC,KAAKnB,MAA1BiC,EAAR,EAAQA,SAAUmB,EAAlB,EAAkBA,OAElB,MAAe,SAAXA,EACK,wBAGM,YAAXA,EAEA,cAAC,IAAD,CACEhC,KAAK,YACLuD,MAAM,UACNnD,OAAQ,GACRD,MAAO,GACPqD,QAAS,MAKA,aAAXxB,EACK,0CAGM,aAAXA,EAEA,oBAAIpC,UAAWC,IAAE4D,QAAjB,SACE,cAAC7C,EAAD,CACEC,SAAUA,EACVC,QAASf,KAAKkC,0BALtB,M,GA5FsCtB,a,iBCW3B+C,MAhBd,YAA8B,IAAZ5C,EAAW,EAAXA,QACjB,OACE,wBACEd,KAAK,SACLJ,UAAWC,IAAE8D,OACb7C,QAASA,EAHX,wB,iBCDE8C,EAAYC,SAASC,cAAc,eAEpBC,E,4MAiBnBC,cAAgB,SAAA9B,GACC,WAAXA,EAAE+B,MACJ,EAAK1E,MAAM2E,W,EAIfC,oBAAsB,SAAAjC,GAChBA,EAAEjD,gBAAkBiD,EAAEkC,QACxB,EAAK7E,MAAM2E,W,uDAnBf,WACEG,OAAOC,iBAAiB,UAAWvE,KAAKiE,iB,kCAG1C,WACEK,OAAOE,oBACL,UACAxE,KAAKiE,iB,oBAgBT,WACE,OAAOQ,uBACL,qBACE5E,UAAWC,IAAE4E,QACb3D,QAASf,KAAKoE,oBAFhB,SAIE,qBAAKvE,UAAWC,IAAE6E,MAAlB,SAA0B3E,KAAKR,MAAMoF,aAEvCf,O,GArC6BjD,aCG7BiE,E,4MAsBJhG,MAAQ,CACNiG,UAAW,EAAKtF,MAAMuF,iBACtBjC,YAAa,EAAKtD,MAAMwF,mBACxBtC,cAAe,EAAKlD,MAAMyF,qBAC1B1D,KAAM,EAAK/B,MAAM0F,YACjBjD,OAAQ,EAAKzC,MAAM2F,e,EAGrBC,WAAa,WACX,IAAM7D,EAAS,EAAK1C,MAAd0C,KACN,EAAKtC,SAAS,CAAEsC,KAAMA,EAAO,EAAGU,OAAQ,a,EAG1CO,YAAc,WACZ,EAAKvD,UAAS,kBAAoB,CAChC6F,WADY,EAAGA,e,EAKnBrC,cAAgB,SAAAC,GACd,EAAKzD,SAAS,CAAEyD,mB,EAGlB2C,iBAAmB,SAAAvC,GACjB,EAAK7D,SAAS,CAAE6D,iB,EAGlBK,UAAY,SAAAlB,GAAM,OAAI,EAAKhD,SAAS,CAAEgD,OAAQA,K,4CAE9C,WACE,MAMIjC,KAAKnB,MALPiE,EADF,EACEA,YACAgC,EAFF,EAEEA,UACApC,EAHF,EAGEA,cACAnB,EAJF,EAIEA,KACAU,EALF,EAKEA,OAGF,OACE,gCACE,cAAClC,EAAD,CAAWR,SAAUS,KAAKqF,mBAC1B,cAAC,EAAD,CACEvC,YAAaA,EACbN,YAAaxC,KAAKwC,YAClBC,cAAezC,KAAKyC,cACpBlB,KAAMA,EACN4B,UAAWnD,KAAKmD,YAGN,YAAXlB,GACC,cAAC,IAAD,CACEhC,KAAK,YACLuD,MAAM,UACNnD,OAAQ,GACRD,MAAO,GACPqD,QAAS,MAID,aAAXxB,GACC,cAAC,EAAD,CAAQlB,QAASf,KAAKoF,aAGvBN,GACC,cAAC,EAAD,CAAOX,QAASnE,KAAKwC,YAArB,SACE,qBAAKpB,IAAKsB,EAAerB,IAAI,c,GAvFvBT,aAAZiE,EACGS,aAAe,CACpBP,kBAAkB,EAClBC,mBAAoB,GACpBC,qBAAsB,GACtBC,YAAa,EACbC,cAAe,QAyFJN,QCpGfU,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF3B,SAAS4B,eAAe,U,kBCR1BhH,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,gBAAkB,sC","file":"static/js/main.9915485d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2ey0n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","import { Component } from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport s from './Searchbar.module.css';\n\nclass SearchForm extends Component{\n    state = {\n        query: '',\n    };\n\n    handleChange = event => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n    };\n    \n    handleSubmit = event => {\n        event.preventDefault();\n        const { query } = this.state;\n        const { onSubmit } = this.props;\n\n        if (!query.trim()) {\n            alert('Search field is empty');\n            return;\n        };\n\n        onSubmit(query.toLocaleLowerCase())\n        this.reset();\n    };\n\n\n    reset = () => {\n    this.setState({ query: '' });\n  };\n\n\n render() {\n     return (\n         <header className={s.Searchbar}>\n             <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n                 <button\n                     type='submit'\n                     className={s.SearchFormButton}\n                     aria-label='Search images'\n                 >\n                     <ImSearch style={{ width: 22, height: 22 }} />\n                 </button>\n\n                 <input\n                     className={s.SearchFormInput}\n                     type='text'\n                     name='searchQuery'\n                     value={this.state.query}\n                     autoComplete='off'\n                     autoFocus\n                     placeholder='Search images'\n                     onChange={this.handleChange}\n                 />\n             </form>\n         </header>\n     );\n    };\n\n}\n\n\nexport default SearchForm;","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\n\nexport default function ImageGalleryItem({\n  pictures,\n  onClick,\n}) {\n  return (\n    <>\n      {pictures.map(({ id, webformatURL }) => (\n        <li className={s.item} key={id}>\n          <img\n            id={id}\n            src={webformatURL}\n            alt=\"\"\n            onClick={onClick}\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};","\nconst key = '23635277-6f81df1acb0b4fe12e608e34f';\n\n\nexport default function fetchImages(name, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`There are no images ${name}`),\n    );\n  });\n}","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from 'components/ImageGalleryItem';\nimport { toast } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport fetchImages from '../API/ImageApi';\n\nexport default class ImageGallery extends Component {\n  state = {\n    pictures: null,\n    status: 'idle',\n  };\n\n//   static propTypes = {\n//     page: PropTypes.number.isRequired,\n//     pictureName: PropTypes.string.isRequired,\n//     setModalImage: PropTypes.func.isRequired,\n//     setStatus: PropTypes.func.isRequired,\n//     toggleModal: PropTypes.func.isRequired,\n//   };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.pictureName;\n    const nextName = this.props.pictureName;\n    const prevPage = prevProps.page;\n    const nextPage = this.props.page;\n\n    if (prevName !== nextName) {\n      this.setState({ status: 'pending' });\n      fetchImages(nextName, 1)\n        .then(pictures => {\n          this.setState({\n            pictures: pictures.hits,\n            status: 'resolved',\n          });\n          this.props.setStatus(this.state.status);\n        })\n        .catch(error => {\n          this.setState({ error, status: 'rejected' });\n          this.props.setStatus(this.state.status);\n          toast.error(error.message);\n        });\n    }\n\n    if (prevPage !== nextPage) {\n      fetchImages(nextName, this.props.page)\n        .then(pictures => {\n          this.setState({\n            pictures: [\n              ...prevState.pictures,\n              ...pictures.hits,\n            ],\n            status: 'resolved',\n          });\n          this.props.setStatus(this.state.status);\n        })\n        .catch(error => {\n          this.setState({ error, status: 'rejected' });\n          this.props.setStatus(this.state.status);\n        });\n    }\n  }\n\n  handleImageClick = e => {\n    const { pictures } = this.state;\n    const currentPicture = pictures.find(\n      picture => picture.id === Number(e.currentTarget.id),\n    );\n    if (currentPicture) {\n      this.props.toggleModal();\n      this.props.setModalImage(\n        currentPicture.largeImageURL,\n      );\n    }\n  };\n\n  render() {\n    const { pictures, status } = this.state;\n\n    if (status === 'idle') {\n      return <div></div>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={50}\n          width={80}\n          timeout={3000}\n        />\n      );\n    }\n\n    if (status === 'rejected') {\n      return <p>No images</p>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <ul className={s.gallery}>\n          <ImageGalleryItem\n            pictures={pictures}\n            onClick={this.handleImageClick}\n          />\n        </ul>\n      );\n    }\n  }\n}","import propTypes from 'prop-types';\nimport s from './Button.module.css';\n\n\n function Button({ onClick }) {\n  return (\n    <button\n      type=\"button\"\n      className={s.button}\n      onClick={onClick}\n    >\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: propTypes.func.isRequired,\n};\n\nexport default Button;","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.element.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\n      'keydown',\n      this.handleKeyDown,\n    );\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div\n        className={s.overlay}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './App.css';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\n\n\nclass App extends Component {\n  static defaultProps = {\n    initialShowModal: false,\n    initialPictureName: '',\n    initialLargeImageURL: '',\n    initialPage: 1,\n    initialStatus: 'idle',\n  };\n\n  static propTypes = {\n    initialShowModal: PropTypes.bool.isRequired,\n    initialPictureName: PropTypes.string.isRequired,\n    initialLargeImageURL: PropTypes.string.isRequired,\n    initialPage: PropTypes.number.isRequired,\n    initialStatus: PropTypes.oneOf([\n      'idle',\n      'pending',\n      'resolved',\n      'rejected',\n    ]),\n  };\n\n  state = {\n    showModal: this.props.initialShowModal,\n    pictureName: this.props.initialPictureName,\n    largeImageURL: this.props.initialLargeImageURL,\n    page: this.props.initialPage,\n    status: this.props.initialStatus,\n  };\n\n  onLoadMore = () => {\n    let { page } = this.state;\n    this.setState({ page: page + 1, status: 'pending' });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setModalImage = largeImageURL => {\n    this.setState({ largeImageURL });\n  };\n\n  handleFormSubmit = pictureName => {\n    this.setState({ pictureName });\n  };\n\n  setStatus = status => this.setState({ status: status });\n\n  render() {\n    const {\n      pictureName,\n      showModal,\n      largeImageURL,\n      page,\n      status,\n    } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          pictureName={pictureName}\n          toggleModal={this.toggleModal}\n          setModalImage={this.setModalImage}\n          page={page}\n          setStatus={this.setStatus}\n        />\n\n        {status === 'pending' && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={50}\n            width={80}\n            timeout={3000}\n          />\n        )}\n\n        {status === 'resolved' && (\n          <Button onClick={this.onLoadMore} />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}